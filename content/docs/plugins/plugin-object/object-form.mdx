---
title: "ObjectForm"
---

import { InteractiveDemo } from '@/app/components/InteractiveDemo';

A smart form component that generates forms from ObjectQL object schemas with automatic field generation and validation. Supports both create and edit modes.

## Interactive Demo

<InteractiveDemo
  schema={{
    type: "object-form",
    objectName: "user",
    mode: "create",
    customFields: [
      { 
        name: "name", 
        label: "Full Name", 
        type: "text", 
        required: true,
        placeholder: "Enter full name"
      },
      { 
        name: "email", 
        label: "Email Address", 
        type: "email", 
        required: true,
        placeholder: "user@example.com"
      },
      { 
        name: "role", 
        label: "Role", 
        type: "select",
        options: [
          { label: "Admin", value: "Admin" },
          { label: "User", value: "User" },
          { label: "Guest", value: "Guest" }
        ],
        required: true
      },
      { 
        name: "status", 
        label: "Status", 
        type: "select",
        options: [
          { label: "Active", value: "Active" },
          { label: "Inactive", value: "Inactive" }
        ],
        defaultValue: "Active"
      }
    ],
    submitText: "Create User"
  }}
  title="ObjectForm Component"
  description="Smart form with validation and schema integration"
/>

## Basic Usage

```tsx
import { ObjectForm } from '@object-ui/plugin-object';
import { ObjectQLDataSource } from '@object-ui/data-objectql';

const dataSource = new ObjectQLDataSource({
  baseUrl: 'https://api.example.com',
  token: 'your-auth-token'
});

function UserForm() {
  return (
    <ObjectForm 
      schema={{
        type: 'object-form',
        objectName: 'users',
        mode: 'create',
        fields: ['name', 'email', 'role', 'status'],
        onSuccess: { type: 'toast', message: 'User created!' }
      }}
      dataSource={dataSource}
    />
  );
}
```

## JSON Schema (Create Mode)

```json
{
  "type": "object-form",
  "objectName": "contacts",
  "mode": "create",
  "fields": ["first_name", "last_name", "email", "phone", "company"],
  "defaultValues": {
    "status": "active"
  },
  "onSuccess": {
    "type": "toast",
    "message": "Contact created successfully!"
  }
}
```

## JSON Schema (Edit Mode)

```json
{
  "type": "object-form",
  "objectName": "contacts",
  "mode": "edit",
  "recordId": "${params.id}",
  "fields": ["first_name", "last_name", "email", "phone", "company", "status"],
  "onSuccess": {
    "type": "navigate",
    "path": "/contacts"
  }
}
```

## Properties

| Property | Type | Default | Description |
|----------|------|---------|-------------|
| `objectName` | string | Required | Name of the ObjectQL object |
| `mode` | 'create' \| 'edit' | Required | Form mode |
| `recordId` | string | - | Record ID for edit mode |
| `fields` | string[] | All fields | Fields to display |
| `defaultValues` | object | `{}` | Default field values |
| `layout` | 'vertical' \| 'horizontal' | `'vertical'` | Form layout |
| `onSuccess` | Action \| Function | - | Action on successful submit (see below) |
| `onCancel` | Action \| Function | - | Action on cancel |

### Action Callbacks

The `onSuccess` and `onCancel` properties support two formats:

**JSON Schema (Action Objects):**
```json
{
  "onSuccess": {
    "type": "navigate",
    "path": "/success-page"
  }
}
```

**TypeScript (Functions):**
```tsx
{
  onSuccess: (data) => {
    console.log('Form submitted:', data);
    router.push('/success-page');
  }
}
```

Common action types: `navigate`, `toast`, `reload`, `close`.

## Features

- **Automatic Field Generation**: Creates appropriate input fields based on field types
- **Schema Validation**: Validates form data according to ObjectQL schema rules
- **Create & Edit Modes**: Single component handles both new record creation and editing
- **Default Values**: Pre-populate fields with default values
- **Custom Actions**: Configure what happens on success or cancel
- **Field Types Support**: Text, number, date, boolean, select, textarea, and more

## Example: Contact Form

<InteractiveDemo
  schema={{
    type: "object-form",
    objectName: "contacts",
    mode: "create",
    title: "New Contact",
    customFields: [
      {
        name: "first_name",
        type: "text",
        label: "First Name",
        required: true,
        placeholder: "John"
      },
      {
        name: "last_name",
        type: "text",
        label: "Last Name",
        required: true,
        placeholder: "Doe"
      },
      {
        name: "email",
        type: "email",
        label: "Email",
        required: true,
        placeholder: "john.doe@example.com"
      },
      {
        name: "phone",
        type: "phone",
        label: "Phone",
        placeholder: "+1 (555) 123-4567"
      },
      {
        name: "company",
        type: "text",
        label: "Company",
        placeholder: "Acme Inc"
      },
      {
        name: "title",
        type: "text",
        label: "Job Title",
        placeholder: "Sales Manager"
      },
      {
        name: "status",
        type: "select",
        label: "Status",
        options: [
          { value: "active", label: "Active", color: "green" },
          { value: "inactive", label: "Inactive", color: "gray" }
        ],
        defaultValue: "active"
      }
    ],
    submitText: "Create Contact",
    showCancel: true
  }}
  title="Contact Form Example"
  description="Simple contact creation form"
/>

## Advanced Configuration

### Custom Field Layout

Control the layout and grouping of form fields with groups:

<InteractiveDemo
  schema={{
    type: "object-form",
    objectName: "user",
    mode: "create",
    title: "User Registration",
    customFields: [
      {
        name: "first_name",
        type: "text",
        label: "First Name",
        required: true
      },
      {
        name: "last_name",
        type: "text",
        label: "Last Name",
        required: true
      },
      {
        name: "email",
        type: "email",
        label: "Email",
        required: true
      },
      {
        name: "phone",
        type: "phone",
        label: "Phone"
      },
      {
        name: "username",
        type: "text",
        label: "Username",
        required: true
      },
      {
        name: "role",
        type: "select",
        label: "Role",
        options: [
          { value: "admin", label: "Admin", color: "red" },
          { value: "user", label: "User", color: "blue" },
          { value: "guest", label: "Guest", color: "gray" }
        ],
        defaultValue: "user"
      },
      {
        name: "status",
        type: "select",
        label: "Status",
        options: [
          { value: "active", label: "Active", color: "green" },
          { value: "inactive", label: "Inactive", color: "gray" }
        ],
        defaultValue: "active"
      }
    ],
    groups: [
      {
        title: "Personal Information",
        fields: ["first_name", "last_name", "email", "phone"]
      },
      {
        title: "Account Settings",
        fields: ["username", "role", "status"]
      }
    ],
    submitText: "Create User"
  }}
  title="Grouped Form Fields"
  description="Form with field groups for better organization"
/>

### Conditional Fields

Show or hide fields based on other field values using the `visible_on` property:

<InteractiveDemo
  schema={{
    type: "object-form",
    objectName: "product",
    mode: "create",
    title: "Product Setup",
    customFields: [
      {
        name: "name",
        type: "text",
        label: "Product Name",
        required: true
      },
      {
        name: "type",
        type: "select",
        label: "Product Type",
        options: [
          { value: "one-time", label: "One-time Purchase", color: "blue" },
          { value: "subscription", label: "Subscription", color: "purple" }
        ],
        required: true
      },
      {
        name: "price",
        type: "currency",
        label: "Price",
        currency: "USD",
        required: true
      },
      {
        name: "subscription_interval",
        type: "select",
        label: "Billing Interval",
        options: [
          { value: "monthly", label: "Monthly", color: "green" },
          { value: "yearly", label: "Yearly", color: "blue" }
        ]
      }
    ],
    submitText: "Create Product"
  }}
  title="Conditional Field Example"
  description="Subscription interval field would show/hide based on product type"
/>

### Form Validation

Add custom validation rules at the field level using the `validate` property:

```json
{
  "type": "object-form",
  "objectName": "user",
  "mode": "create",
  "customFields": [
    {
      "name": "email",
      "type": "email",
      "label": "Email",
      "required": true
    },
    {
      "name": "password",
      "type": "password",
      "label": "Password",
      "required": true,
      "min_length": 8
    },
    {
      "name": "confirm_password",
      "type": "password",
      "label": "Confirm Password",
      "required": true
    }
  ]
}
```

## Complete Form Example with All Field Types

Here's a comprehensive product form with multiple field types, grouping, and validation:

<InteractiveDemo
  schema={{
    type: "object-form",
    objectName: "products",
    mode: "create",
    title: "New Product",
    customFields: [
      {
        name: "productName",
        type: "text",
        label: "Product Name",
        required: true,
        max_length: 100
      },
      {
        name: "description",
        type: "textarea",
        label: "Description",
        rows: 3,
        max_length: 500
      },
      {
        name: "category",
        type: "select",
        label: "Category",
        required: true,
        options: [
          { value: "electronics", label: "Electronics", color: "blue" },
          { value: "clothing", label: "Clothing", color: "purple" },
          { value: "food", label: "Food & Beverage", color: "green" }
        ]
      },
      {
        name: "price",
        type: "currency",
        label: "Price",
        currency: "USD",
        precision: 2,
        required: true,
        min: 0
      },
      {
        name: "stock",
        type: "number",
        label: "Stock Quantity",
        min: 0,
        step: 1
      },
      {
        name: "isActive",
        type: "boolean",
        label: "Active",
        defaultValue: true
      },
      {
        name: "releaseDate",
        type: "date",
        label: "Release Date"
      },
      {
        name: "tags",
        type: "select",
        label: "Tags",
        multiple: true,
        searchable: true,
        options: [
          { value: "bestseller", label: "Best Seller", color: "red" },
          { value: "new", label: "New Arrival", color: "green" },
          { value: "sale", label: "On Sale", color: "orange" }
        ]
      }
    ],
    submitText: "Create Product",
    showCancel: true
  }}
  title="Product Form Example"
  description="Comprehensive form with multiple field types"
/>


## Mode Comparison

### Create Mode
- Creates new records
- Shows empty form or with default values
- Submit button typically says "Create" or "Save"
- No recordId required

### Edit Mode
- Updates existing records
- Pre-fills form with current record data
- Submit button typically says "Update" or "Save Changes"
- Requires recordId to fetch and update the record

## Related Components

- [ObjectField Types](/docs/plugins/plugin-object/object-field) - Comprehensive field type reference with interactive examples
- [ObjectTable](/docs/plugins/plugin-object/object-grid) - Display lists of data
- [ObjectView](/docs/plugins/plugin-object/object-view) - Complete CRUD interface
