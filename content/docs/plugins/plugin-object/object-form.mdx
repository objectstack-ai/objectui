---
title: "ObjectForm"
---

import { InteractiveDemo } from '@/app/components/InteractiveDemo';

A smart form component that generates forms from ObjectQL object schemas with automatic field generation and validation. Supports both create and edit modes.

## Interactive Demo

<InteractiveDemo
  schema={{
    type: "object-form",
    objectName: "user",
    mode: "create",
    customFields: [
      { 
        name: "name", 
        label: "Full Name", 
        type: "text", 
        required: true,
        placeholder: "Enter full name"
      },
      { 
        name: "email", 
        label: "Email Address", 
        type: "email", 
        required: true,
        placeholder: "user@example.com"
      },
      { 
        name: "role", 
        label: "Role", 
        type: "select",
        options: ["Admin", "User", "Guest"],
        required: true
      },
      { 
        name: "status", 
        label: "Status", 
        type: "select",
        options: ["Active", "Inactive"],
        defaultValue: "Active"
      }
    ],
    submitText: "Create User"
  }}
  title="ObjectForm Component"
  description="Smart form with validation and schema integration"
/>

## Basic Usage

```tsx
import { ObjectForm } from '@object-ui/plugin-object';
import { ObjectQLDataSource } from '@object-ui/data-objectql';

const dataSource = new ObjectQLDataSource({
  baseUrl: 'https://api.example.com',
  token: 'your-auth-token'
});

function UserForm() {
  return (
    <ObjectForm 
      schema={{
        type: 'object-form',
        objectName: 'users',
        mode: 'create',
        fields: ['name', 'email', 'role', 'status'],
        onSuccess: { type: 'toast', message: 'User created!' }
      }}
      dataSource={dataSource}
    />
  );
}
```

## JSON Schema (Create Mode)

```json
{
  "type": "object-form",
  "objectName": "contacts",
  "mode": "create",
  "fields": ["first_name", "last_name", "email", "phone", "company"],
  "defaultValues": {
    "status": "active"
  },
  "onSuccess": {
    "type": "toast",
    "message": "Contact created successfully!"
  }
}
```

## JSON Schema (Edit Mode)

```json
{
  "type": "object-form",
  "objectName": "contacts",
  "mode": "edit",
  "recordId": "${params.id}",
  "fields": ["first_name", "last_name", "email", "phone", "company", "status"],
  "onSuccess": {
    "type": "navigate",
    "path": "/contacts"
  }
}
```

## Properties

| Property | Type | Default | Description |
|----------|------|---------|-------------|
| `objectName` | string | Required | Name of the ObjectQL object |
| `mode` | 'create' \| 'edit' | Required | Form mode |
| `recordId` | string | - | Record ID for edit mode |
| `fields` | string[] | All fields | Fields to display |
| `defaultValues` | object | `{}` | Default field values |
| `layout` | 'vertical' \| 'horizontal' | `'vertical'` | Form layout |
| `onSuccess` | Action \| Function | - | Action on successful submit (see below) |
| `onCancel` | Action \| Function | - | Action on cancel |

### Action Callbacks

The `onSuccess` and `onCancel` properties support two formats:

**JSON Schema (Action Objects):**
```json
{
  "onSuccess": {
    "type": "navigate",
    "path": "/success-page"
  }
}
```

**TypeScript (Functions):**
```tsx
{
  onSuccess: (data) => {
    console.log('Form submitted:', data);
    router.push('/success-page');
  }
}
```

Common action types: `navigate`, `toast`, `reload`, `close`.

## Features

- **Automatic Field Generation**: Creates appropriate input fields based on field types
- **Schema Validation**: Validates form data according to ObjectQL schema rules
- **Create & Edit Modes**: Single component handles both new record creation and editing
- **Default Values**: Pre-populate fields with default values
- **Custom Actions**: Configure what happens on success or cancel
- **Field Types Support**: Text, number, date, boolean, select, textarea, and more

## Example: Contact Form

```json
{
  "type": "page",
  "title": "New Contact",
  "body": [
    {
      "type": "card",
      "title": "Create Contact",
      "className": "max-w-2xl mx-auto p-6",
      "children": {
        "type": "object-form",
        "objectName": "contacts",
        "mode": "create",
        "fields": [
          "first_name",
          "last_name",
          "email",
          "phone",
          "company",
          "title",
          "status"
        ],
        "defaultValues": {
          "status": "active",
          "source": "web"
        },
        "layout": "vertical",
        "onSuccess": {
          "type": "navigate",
          "path": "/contacts"
        },
        "onCancel": {
          "type": "navigate",
          "path": "/contacts"
        }
      }
    }
  ]
}
```

## Advanced Configuration

### Custom Field Layout

Control the layout and grouping of form fields:

```json
{
  "type": "object-form",
  "objectName": "user",
  "mode": "create",
  "layout": "horizontal",
  "fieldGroups": [
    {
      "title": "Personal Information",
      "fields": ["first_name", "last_name", "email", "phone"]
    },
    {
      "title": "Account Settings",
      "fields": ["username", "role", "status"]
    }
  ]
}
```

### Conditional Fields

Show or hide fields based on other field values:

```json
{
  "type": "object-form",
  "objectName": "product",
  "mode": "create",
  "fields": ["name", "type", "price", "subscription_interval"],
  "fieldVisibility": {
    "subscription_interval": {
      "condition": "${data.type === 'subscription'}"
    }
  }
}
```

### Form Validation

Add custom validation rules:

```json
{
  "type": "object-form",
  "objectName": "user",
  "mode": "create",
  "fields": ["email", "password", "confirm_password"],
  "validation": {
    "confirm_password": {
      "match": "password",
      "message": "Passwords must match"
    }
  }
}
```

## Field Type Examples

ObjectForm supports all field types defined in ObjectUI. Below are comprehensive examples for each field type with their configuration options.

### Text Fields

#### Basic Text
```json
{
  "name": "firstName",
  "type": "text",
  "label": "First Name",
  "required": true,
  "placeholder": "Enter first name",
  "min_length": 2,
  "max_length": 50
}
```

#### Number
```json
{
  "name": "age",
  "type": "number",
  "label": "Age",
  "min": 0,
  "max": 150,
  "step": 1,
  "placeholder": "Enter age"
}
```

#### Textarea
```json
{
  "name": "notes",
  "type": "textarea",
  "label": "Notes",
  "rows": 4,
  "max_length": 1000,
  "placeholder": "Add your notes here..."
}
```

#### Markdown
```json
{
  "name": "description",
  "type": "markdown",
  "label": "Description",
  "max_length": 5000,
  "placeholder": "Enter markdown formatted text"
}
```

#### HTML (Rich Text)
```json
{
  "name": "content",
  "type": "html",
  "label": "Content",
  "max_length": 10000,
  "placeholder": "Enter rich text content"
}
```

### Numeric Fields

#### Currency
```json
{
  "name": "price",
  "type": "currency",
  "label": "Price",
  "currency": "USD",
  "precision": 2,
  "min": 0,
  "required": true
}
```

#### Percent
```json
{
  "name": "discount",
  "type": "percent",
  "label": "Discount",
  "precision": 2,
  "min": 0,
  "max": 100,
  "placeholder": "0.00"
}
```

### Boolean Field

```json
{
  "name": "isActive",
  "type": "boolean",
  "label": "Active Status",
  "defaultValue": true
}
```

### Date & Time Fields

#### Date
```json
{
  "name": "birthDate",
  "type": "date",
  "label": "Birth Date",
  "format": "MM/DD/YYYY",
  "max_date": "2024-12-31"
}
```

#### DateTime
```json
{
  "name": "appointmentTime",
  "type": "datetime",
  "label": "Appointment",
  "format": "MM/DD/YYYY HH:mm",
  "min_date": "2024-01-01T00:00:00"
}
```

#### Time
```json
{
  "name": "preferredContactTime",
  "type": "time",
  "label": "Preferred Time",
  "format": "HH:mm"
}
```

### Selection Fields

#### Single Select
```json
{
  "name": "status",
  "type": "select",
  "label": "Status",
  "required": true,
  "options": [
    { "value": "active", "label": "Active", "color": "green" },
    { "value": "inactive", "label": "Inactive", "color": "gray" },
    { "value": "pending", "label": "Pending", "color": "yellow" }
  ],
  "defaultValue": "active"
}
```

#### Multi-Select
```json
{
  "name": "tags",
  "type": "select",
  "label": "Tags",
  "multiple": true,
  "searchable": true,
  "options": [
    { "value": "vip", "label": "VIP", "color": "red" },
    { "value": "partner", "label": "Partner", "color": "blue" },
    { "value": "prospect", "label": "Prospect", "color": "yellow" }
  ]
}
```

### Contact Fields

#### Email
```json
{
  "name": "email",
  "type": "email",
  "label": "Email Address",
  "required": true,
  "max_length": 255,
  "placeholder": "user@example.com"
}
```

#### Phone
```json
{
  "name": "phone",
  "type": "phone",
  "label": "Phone Number",
  "format": "+1 (XXX) XXX-XXXX",
  "placeholder": "+1 (555) 123-4567"
}
```

#### URL
```json
{
  "name": "website",
  "type": "url",
  "label": "Website",
  "max_length": 500,
  "placeholder": "https://example.com"
}
```

#### Password
```json
{
  "name": "password",
  "type": "password",
  "label": "Password",
  "required": true,
  "min_length": 8,
  "max_length": 128,
  "placeholder": "Enter secure password"
}
```

### File & Media Fields

#### File Upload
```json
{
  "name": "attachments",
  "type": "file",
  "label": "Attachments",
  "multiple": true,
  "max_files": 5,
  "max_size": 10485760,
  "accept": ["application/pdf", "application/msword", "text/plain"]
}
```

#### Image Upload
```json
{
  "name": "avatar",
  "type": "image",
  "label": "Profile Picture",
  "accept": ["image/jpeg", "image/png", "image/webp"],
  "max_size": 2097152,
  "max_width": 1024,
  "max_height": 1024
}
```

### Relationship Fields

#### Lookup (Foreign Key)
```json
{
  "name": "company",
  "type": "lookup",
  "label": "Company",
  "reference_to": "accounts",
  "reference_field": "name",
  "searchable": true,
  "required": true
}
```

#### Master-Detail Relationship
```json
{
  "name": "parentAccount",
  "type": "master_detail",
  "label": "Parent Account",
  "reference_to": "accounts",
  "searchable": true
}
```

### User Fields

#### User Selector
```json
{
  "name": "assignedTo",
  "type": "user",
  "label": "Assigned To",
  "multiple": false
}
```

#### Owner Field
```json
{
  "name": "owner",
  "type": "owner",
  "label": "Record Owner",
  "required": true
}
```

### Location Field

```json
{
  "name": "address",
  "type": "location",
  "label": "Address",
  "default_zoom": 15,
  "placeholder": "Enter address or coordinates"
}
```

### Computed Fields

#### Formula (Read-only)
```json
{
  "name": "fullName",
  "type": "formula",
  "label": "Full Name",
  "formula": "CONCAT(firstName, ' ', lastName)",
  "readonly": true
}
```

#### Summary/Rollup
```json
{
  "name": "totalRevenue",
  "type": "summary",
  "label": "Total Revenue",
  "summary_object": "opportunities",
  "summary_field": "amount",
  "summary_type": "sum",
  "readonly": true
}
```

#### Auto Number
```json
{
  "name": "ticketNumber",
  "type": "auto_number",
  "label": "Ticket #",
  "format": "TICKET-{0000}",
  "starting_number": 1,
  "readonly": true
}
```

### Advanced Fields

#### Object (JSON)
```json
{
  "name": "metadata",
  "type": "object",
  "label": "Metadata",
  "schema": {
    "source": { "type": "string" },
    "campaign": { "type": "string" },
    "referrer": { "type": "string" }
  }
}
```

#### Vector (Embeddings)
```json
{
  "name": "embedding",
  "type": "vector",
  "label": "Text Embedding",
  "dimensions": 1536,
  "readonly": true
}
```

#### Grid (Sub-table)
```json
{
  "name": "lineItems",
  "type": "grid",
  "label": "Line Items",
  "columns": [
    { "name": "product", "type": "text", "label": "Product" },
    { "name": "quantity", "type": "number", "label": "Qty" },
    { "name": "price", "type": "currency", "label": "Price" },
    { "name": "total", "type": "currency", "label": "Total", "formula": "quantity * price" }
  ]
}
```

## Complete Form Example with All Field Types

Here's a comprehensive product form with multiple field types, grouping, and validation:

<InteractiveDemo
  schema={{
    type: "object-form",
    objectName: "products",
    mode: "create",
    title: "New Product",
    customFields: [
      {
        name: "productName",
        type: "text",
        label: "Product Name",
        required: true,
        max_length: 100
      },
      {
        name: "description",
        type: "textarea",
        label: "Description",
        rows: 3,
        max_length: 500
      },
      {
        name: "category",
        type: "select",
        label: "Category",
        required: true,
        options: [
          { value: "electronics", label: "Electronics", color: "blue" },
          { value: "clothing", label: "Clothing", color: "purple" },
          { value: "food", label: "Food & Beverage", color: "green" }
        ]
      },
      {
        name: "price",
        type: "currency",
        label: "Price",
        currency: "USD",
        precision: 2,
        required: true,
        min: 0
      },
      {
        name: "stock",
        type: "number",
        label: "Stock Quantity",
        min: 0,
        step: 1
      },
      {
        name: "isActive",
        type: "boolean",
        label: "Active",
        defaultValue: true
      },
      {
        name: "releaseDate",
        type: "date",
        label: "Release Date"
      },
      {
        name: "tags",
        type: "select",
        label: "Tags",
        multiple: true,
        searchable: true,
        options: [
          { value: "bestseller", label: "Best Seller", color: "red" },
          { value: "new", label: "New Arrival", color: "green" },
          { value: "sale", label: "On Sale", color: "orange" }
        ]
      }
    ],
    submitText: "Create Product",
    showCancel: true
  }}
  title="Product Form Example"
  description="Comprehensive form with multiple field types"
/>

Here's the complete JSON schema for the form above:

```json
{
  "type": "object-form",
  "objectName": "products",
  "mode": "create",
  "title": "New Product",
  "layout": "vertical",
  "customFields": [
    {
      "name": "productName",
      "type": "text",
      "label": "Product Name",
      "required": true,
      "max_length": 100
    },
    {
      "name": "sku",
      "type": "auto_number",
      "label": "SKU",
      "format": "PRD-{0000}",
      "readonly": true
    },
    {
      "name": "description",
      "type": "textarea",
      "label": "Description",
      "rows": 3,
      "max_length": 500
    },
    {
      "name": "fullDescription",
      "type": "html",
      "label": "Full Description",
      "max_length": 5000
    },
    {
      "name": "category",
      "type": "select",
      "label": "Category",
      "required": true,
      "options": [
        { "value": "electronics", "label": "Electronics", "color": "blue" },
        { "value": "clothing", "label": "Clothing", "color": "purple" },
        { "value": "food", "label": "Food & Beverage", "color": "green" }
      ]
    },
    {
      "name": "price",
      "type": "currency",
      "label": "Price",
      "currency": "USD",
      "precision": 2,
      "required": true,
      "min": 0
    },
    {
      "name": "costPrice",
      "type": "currency",
      "label": "Cost Price",
      "currency": "USD",
      "precision": 2,
      "min": 0
    },
    {
      "name": "profitMargin",
      "type": "formula",
      "label": "Profit Margin",
      "formula": "((price - costPrice) / price) * 100",
      "readonly": true
    },
    {
      "name": "stock",
      "type": "number",
      "label": "Stock Quantity",
      "min": 0,
      "step": 1
    },
    {
      "name": "weight",
      "type": "number",
      "label": "Weight (kg)",
      "precision": 2,
      "min": 0
    },
    {
      "name": "isActive",
      "type": "boolean",
      "label": "Active",
      "defaultValue": true
    },
    {
      "name": "isFeatured",
      "type": "boolean",
      "label": "Featured Product",
      "defaultValue": false
    },
    {
      "name": "releaseDate",
      "type": "date",
      "label": "Release Date"
    },
    {
      "name": "manufacturer",
      "type": "lookup",
      "label": "Manufacturer",
      "reference_to": "manufacturers",
      "searchable": true
    },
    {
      "name": "supplier",
      "type": "lookup",
      "label": "Supplier",
      "reference_to": "suppliers",
      "searchable": true
    },
    {
      "name": "tags",
      "type": "select",
      "label": "Tags",
      "multiple": true,
      "searchable": true,
      "options": [
        { "value": "bestseller", "label": "Best Seller", "color": "red" },
        { "value": "new", "label": "New Arrival", "color": "green" },
        { "value": "sale", "label": "On Sale", "color": "orange" }
      ]
    },
    {
      "name": "images",
      "type": "image",
      "label": "Product Images",
      "multiple": true,
      "max_files": 5,
      "max_size": 5242880,
      "accept": ["image/jpeg", "image/png", "image/webp"]
    },
    {
      "name": "documents",
      "type": "file",
      "label": "Documents",
      "multiple": true,
      "max_files": 3,
      "accept": ["application/pdf"]
    },
    {
      "name": "owner",
      "type": "owner",
      "label": "Product Manager",
      "required": true
    },
    {
      "name": "metadata",
      "type": "object",
      "label": "Custom Metadata"
    }
  ],
  "groups": [
    {
      "title": "Basic Information",
      "fields": ["productName", "sku", "description", "fullDescription", "category"]
    },
    {
      "title": "Pricing",
      "fields": ["price", "costPrice", "profitMargin"]
    },
    {
      "title": "Inventory",
      "fields": ["stock", "weight", "isActive", "isFeatured", "releaseDate"]
    },
    {
      "title": "Relationships",
      "fields": ["manufacturer", "supplier", "tags"]
    },
    {
      "title": "Media & Documents",
      "fields": ["images", "documents"]
    },
    {
      "title": "Management",
      "fields": ["owner", "metadata"],
      "collapsible": true
    }
  ],
  "submitText": "Create Product",
  "showCancel": true,
  "onSuccess": {
    "type": "navigate",
    "path": "/products"
  }
}
```

## Mode Comparison

### Create Mode
- Creates new records
- Shows empty form or with default values
- Submit button typically says "Create" or "Save"
- No recordId required

### Edit Mode
- Updates existing records
- Pre-fills form with current record data
- Submit button typically says "Update" or "Save Changes"
- Requires recordId to fetch and update the record

## Related Components

- [ObjectTable](/docs/plugins/plugin-object/object-table) - Display lists of data
- [ObjectView](/docs/plugins/plugin-object/object-view) - Complete CRUD interface
